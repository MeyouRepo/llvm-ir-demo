# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - init: |
      sudo apt-get update -y
      sudo echo "deb http://apt.llvm.org/focal/ llvm-toolchain-focal main" >/etc/apt/sources.list.d/llvm-13.sources.list
      sudo echo "deb-src http://apt.llvm.org/focal/ llvm-toolchain-focal main" >>/etc/apt/sources.list.d/llvm-13.sources.list
      sudo echo "deb http://apt.llvm.org/focal/ llvm-toolchain-focal-13 main" >>/etc/apt/sources.list.d/llvm-13.sources.list
      sudo echo "deb-src http://apt.llvm.org/focal/ llvm-toolchain-focal-13 main" >>/etc/apt/sources.list.d/llvm-13.sources.list
      wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key|sudo apt-key add -
      sudo apt-get update -y
      sudo apt-get install libllvm-13-ocaml-dev libllvm13 llvm-13 llvm-13-dev llvm-13-doc llvm-13-examples llvm-13-runtime -y
      sudo ln -snf /usr/lib/llvm-13/bin/llvm-config /usr/bin/llvm-config
      cargo build
    command: |
      cargo watch -x run
