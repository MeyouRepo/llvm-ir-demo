# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - init: |
      sudo apt-get update -y

      sudo cp -f "$PWD/llvm-13.sources.list" /etc/apt/sources.list.d/llvm.list
      wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -
      sudo apt-get update -y
      sudo apt-get install libllvm-13-ocaml-dev libllvm13 llvm-13 llvm-13-dev llvm-13-doc llvm-13-examples llvm-13-runtime -y
      # sudo ln -snf /usr/lib/llvm-13/bin/llvm-config /usr/bin/llvm-config

      # sudo apt-get install llvm-12-dev -y
      # sudo ln -snf /usr/lib/llvm-12/bin/llvm-config /usr/bin/llvm-config
      cargo build
    command: |
      cargo watch -x run
